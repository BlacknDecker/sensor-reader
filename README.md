[![Build Status](https://www.travis-ci.com/BlacknDecker/sensor-reader.svg?branch=master)](https://www.travis-ci.com/BlacknDecker/sensor-reader)
[![Coverage Status](https://coveralls.io/repos/github/BlacknDecker/sensor-reader/badge.svg?branch=master)](https://coveralls.io/github/BlacknDecker/sensor-reader?branch=master)

[![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=BlacknDecker_sensor-reader&metric=alert_status)](https://sonarcloud.io/dashboard?id=BlacknDecker_sensor-reader)

[![Lines of Code](https://sonarcloud.io/api/project_badges/measure?project=BlacknDecker_sensor-reader&metric=ncloc)](https://sonarcloud.io/dashboard?id=BlacknDecker_sensor-reader)
[![Coverage](https://sonarcloud.io/api/project_badges/measure?project=BlacknDecker_sensor-reader&metric=coverage)](https://sonarcloud.io/dashboard?id=BlacknDecker_sensor-reader)

[![Technical Debt](https://sonarcloud.io/api/project_badges/measure?project=BlacknDecker_sensor-reader&metric=sqale_index)](https://sonarcloud.io/dashboard?id=BlacknDecker_sensor-reader)
[![Vulnerabilities](https://sonarcloud.io/api/project_badges/measure?project=BlacknDecker_sensor-reader&metric=vulnerabilities)](https://sonarcloud.io/dashboard?id=BlacknDecker_sensor-reader)
[![Code Smells](https://sonarcloud.io/api/project_badges/measure?project=BlacknDecker_sensor-reader&metric=code_smells)](https://sonarcloud.io/dashboard?id=BlacknDecker_sensor-reader)
[![Bugs](https://sonarcloud.io/api/project_badges/measure?project=BlacknDecker_sensor-reader&metric=bugs)](https://sonarcloud.io/dashboard?id=BlacknDecker_sensor-reader)

[![Security Rating](https://sonarcloud.io/api/project_badges/measure?project=BlacknDecker_sensor-reader&metric=security_rating)](https://sonarcloud.io/dashboard?id=BlacknDecker_sensor-reader)
[![Reliability Rating](https://sonarcloud.io/api/project_badges/measure?project=BlacknDecker_sensor-reader&metric=reliability_rating)](https://sonarcloud.io/dashboard?id=BlacknDecker_sensor-reader)
[![Maintainability Rating](https://sonarcloud.io/api/project_badges/measure?project=BlacknDecker_sensor-reader&metric=sqale_rating)](https://sonarcloud.io/dashboard?id=BlacknDecker_sensor-reader)

# Sensor Reader
This application implements a simple web interface to display telemetry data generated by IoT devices using the MQTT protocol.

The application has been developed following the TDD methodology presented in the "Advanced Techniques and Tools for Software Development" course.

## Run the application
By default the application will try to connect to a remote MQTT broker, specified in the application property file.
To run the application with that broker:
```
mvn clean compile docker:start spring-boot:run \
&& mvn docker:stop
```
The `mvn docker:stop` command is concatenated just to avoid to forget it.

We can use a different MQTT broker by providing its address. For example we can use the local broker created by the docker plugin:
```
mvn clean compile docker:start spring-boot:run \
    -Dspring-boot.run.arguments=--broker="tcp://localhost:1883" \
&& mvn docker:stop
```

### Simulate a sensor
To be able to interact with the application a [sensor simulator is provided](https://github.com/BlacknDecker/dummy-sensor). 
The simulator is outside the scope of this project and its intended as a proof of concept, therefore its not developed following a TDD approach.

## Test suite
To run **Unit and Integration tests**: `mvn clean verify`

To generate **Code Coverage** report: `mvn clean verify -Pjacoco`

To run **Mutation tests**: `mvn clean test -Pmutation-tests`

To run **End to End tests**: `mvn clean verify -Pe2e-tests`



